<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/png" href="../img/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" href="../css/cssGioco.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=>, initial-scale=1.0">
    <title>Il Tombolone</title>
    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }
        
        input:checked+.slider {
            background-color: #2196F3;
        }
        
        input:focus+.slider {
            box-shadow: 0 0 1px #2196F3;
        }
        
        input:checked+.slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }
        /* Rounded sliders */
        
        .slider.round {
            height: 100%;
            width: 100%;
            border-radius: 30px;
        }
        
        .slider.round:before {
            border-radius: 50%;
        }
    </style>

</head>

<body class="container-fluid">
    <div class="row">
        <!--Utilizzo il bootstrap per permettere il ridimensionamento della finestra sui diversi dispositivi, anche se non li ho definiti all'interno delle classi perchè ancora una bozza-->
        <!--INIZIO WEBAPP-->
        <div id="blockmenu" style="display: inline-block;margin-top:13em" class="col-12">
            <!--MENU GIOCO-->
            <div id="mainMenu" class="menuGioco">
                <img src="../img/logo.png" id="logoCentrale">
                </br>
                <div id="spaziaturaMenu">
                    <button type="button" class="menuButtons pulsanteMenu" onclick="apriPrePartita()">GIOCA</button></br>
                    <button type="button" class="menuButtons pulsanteMenu" onclick="apriMenu()">IMPOSTAZIONI</button></br>
                    <form action="http://127.0.0.1:3000/">
                        <button type="submit" class="menuButtons pulsanteMenu">ESCI</button>
                    </form>
                </div>
            </div>
            <!--MENU IMPOSTAZIONI-->
            <center>
                <div id="menuImpostazioni" class="col-6 ">
                    <form action="" class="myform">
                        <h1><b>Impostazioni gioco</b></h1>
                        <div class="impostazioni">


                            <label for="tema">Scegli tema:</label>
                            <input type="radio" id="scuro" name="tema" value="scuro">
                            <label for="scuro">Scuro</label>
                            <input type="radio" id="chiaro" name="tema" value="Chiaro">
                            <label for="chiaro">Chiaro</label><br>
                            <br><br>

                            <label for="volume">Volume</label>
                            <label class="switch">
                                <input type="checkbox"  id="volumeSiNo" checked="true"  onclick="checkVolume()">
                                <span class="slider round"></span>
                              </label>
                            <div class="slidecontainer">
                                <input type="range" min="0" max="100" value="50" id="myRange">
                            </div>
                            <audio id="myAudio" controls src="./audio/Gaiety.ogg" style="display: none;">                            
                            </audio>
                        </div>
                        </br>
                        <button type="button" class="menuButtons2" onclick="chiudiMenuESalva(), salvaImpostazioniSecondarie()" onclick="">SALVA</button><br>
                        <button type="button" class="menuButtons2" onclick="chiudiMenu()" onclick="">ESCI SENZA SALVARE</button>
                    </form>
                </div>
            </center>
            <center>
                <div id="menuPrePartita">
                    <form action="" class="myform">
                        <h1><b>Pre-partita</b></h1>
                        <div class="impostazioni">
                            <p>Crediti disponibili: </p>
                            <p id=nCreditiGiocatore></p>
                            <label for="giocatori">Nickname:</label>
                            <input type="text" id="username" placeholder="Giocatore 1"><br><br>
                            <label for="giocatori">Numero giocatori:</label>
                            <select id="Ngiocatori">
                                        <option value="2" selected="selected">2</option>
                                        <option value="3" selected="selected">3</option>
                                        <option value="4" selected="selected">4</option>
                                        <option value="5" selected="selected">5</option>
                                        <option value="6" selected="selected">6</option>
                                        <option value="7" selected="selected">7</option>
                                        <option value="8" selected="selected">8</option>
                                        </select>

                            <br><br>

                            <label for="schedine">Numero schedine:</label>
                            <select id="Nschedine">
                                        <option value="1" selected="selected">1</option>
                                        <option value="2" selected="selected">2</option>
                                        <option value="3" selected="selected">3</option>
                                        <option value="4" selected="selected">4</option>
                                        <option value="5" selected="selected">5</option>
                                        <option value="6" selected="selected">6</option>
                                        </select>

                            <br><br>


                        </div>
                        </br>
                        <button type="button" class="menuButtons2" onclick="apriGioco()" onclick="">INIZIA PARTITA</button><br>
                        <button type="button" class="menuButtons2" onclick="chiudiPrePartita()" onclick="">TORNA AL MENU'</button>
                    </form>
                </div>
            </center>

        </div>
        <!--FINE WEBAPP-->
    </div>
    <div id="tombolone">
        <div class="row-12">
            <button type="button" onclick="chiudiGioco()" id="tornaMenu">TORNA AL MENU</button>

            <div class="row">


                <br>
                <div class="col-3 mt-3">
                    <div class="col-12" id="contenitoreTabellone">
                        <div id="tabellone" class="col">
                        </div>
                        <div id="numeroEstratto" class="col-12">...</div><br>
                        <div id="pulsanteEstrai" class="col-4 text-center mx-auto justify-content-center align-items-center">ESTRAI</div>

                    </div>
                    <div class="col-2" style="margin-right: 2vw; display: inline-block;"></div>
                    <div id="sezionePronto" class=" col-8">
                        <div id="nGiocatoriPronti">
                            <center>Giocatori pronti:0/8</center>
                        </div>
                        <center><button id="pulsantePronto" onclick="controllaNumeriCPU(),terminaTurno()">PRONTO</button></center>
                    </div>
                </div>
                <div class="col-1"></div>


                <div id="tavoloSchedine" class="col-5 mt-3 ">
                    <div id="0_0" class="contenitoreSchedine col-6 ">
                    </div>
                    <div id="contenitore_0_1" class="contenitoreSchedineDestra col-6">
                    </div>

                </div>
                <div id="log" class="col-12">
                    Partita iniziata:<br>
                </div>
                <div id="schedaGiocatore" class="col-3 mt-3">
                    <div class="freccia" id="frecciaIndietro" onclick="cambiaGiocatore(-1)" style="display: none;">
                        <div class="fontFreccine">←</div>
                    </div>
                    <div id="usernameSchedaGiocatore">Giocatore 1</div>
                    <div class="freccia" id="frecciaAvanti" onclick="cambiaGiocatore(1)">
                        <div class="fontFreccine">→</div>
                    </div>
                    <div id="contenitorePremi">
                        <br>
                        <div style="display: inline-block; width: 40%; margin-left: 5%;">
                            <div class="premioSinistra" id="ambo">AMBO</div>
                            <div class="premioSinistra" id="terna">TERNA</div>
                        </div>
                        <div style="width: 40%;margin-right: 5%;float: right;">
                            <div class="premioDestra" id="quaterna">QUATERNA</div>
                            <div class="premioDestra" id="cinquina">CINQUINA</div>
                        </div>
                        <center>
                            <div style="width: 40%">

                                <div class="premioCentro" id="tombola">TOMBOLA</div>
                            </div>
                        </center>
                    </div>
                    <div class="row">
                        <div class="col-4"></div>
                        <div id="cerchioRiscatta" class="col-4">
                            <center>OTTIENI</center>
                        </div>
                        <div class="col-4"></div>
                    </div>
                    <br>
                    <br>
                    <table id="classificaTempoReale">
                        <tr>
                            <th>POSIZIONE</th>
                            <th>NOME</th>
                            <th>PUNTI</th>
                        </tr>
                    </table>
                </div>
                <input type="button" id="bottonePremi" value="RISCATTA"></input>
                <div id="finePartita">
                    <div id="esito"></div>
                    <div id="stringaVincitore"></div>
                    <center>
                        <table id="tabellaRisulatatiFinali" class="container-fluid">
                            <tr>
                                <th>POSIZIONE</th>
                                <th>NOME</th>
                                <th>PUNTI</th>
                            </tr>
                        </table>
                        <form action="http://127.0.0.1:3000/terminaPartita" id="formFantasma" method="POST">
                            <input type="text" name="nRound" id="nRound" style="display: none;">
                            <input type="text" name="ngiocatori" id="ngiocatori" style="display: none;">
                            <input type="text" name="flagVinto" id="flagVinto" style="display: none;">
                            <input type="text" name="nSchedine" id="nSchedine" style="display: none;">
                            <input type="text" name="usernameUtente" id="usernameUtente" style="display: none;">
                            <input type="text" name="creditiRimasti" id="creditiRimasti" style="display: none;">
                            <input type="button" id="buttonTornaMenu" onclick="terminaPartita()" value="TORNA AL MENU"></input>
                    </center>
                    </form>
                </div>

            </div>


        </div>
    </div>

    </div>
    <script>
        let volumeGlobale = 0.5;
        let audioGlobale = true;
        let x = document.getElementById("myAudio");
        x.loop = true;
        x.volume = 0.5;
        x.play();

        function playAudio() {
            x.play();
        }

        function pauseAudio() {
            x.pause();
        }

        function checkVolume() {
            if (document.getElementById("volumeSiNo").checked != true) {
                document.getElementById("myRange").style.display = "none";
                pauseAudio();
            } else {
                document.getElementById("myRange").style.display = "inline-block";
                playAudio();
            }
        }

        function chiudiMenu() {
            if (document.getElementById("volumeSiNo").checked != audioGlobale || document.getElementById("myRange").value != volumeGlobale) {
                document.getElementById("volumeSiNo").checked = audioGlobale;
                document.getElementById("myRange").value = (volumeGlobale * 100);
                checkVolume();
            }
            document.getElementById("mainMenu").style.display = "block";
            document.getElementById("menuImpostazioni").style.display = "none";
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js " integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN " crossorigin="anonymous "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js " integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q " crossorigin="anonymous "></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js " integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl " crossorigin="anonymous "></script>
    <script src="../js/js.js"></script>
</body>
<!-- Footer -->
<!-- Footer -->


</html>